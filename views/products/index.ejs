<%- include('../partials/header') %>

<style>
    h2 {
        font-weight: bold;
        background: linear-gradient(90deg, #ff4b2b, #ff7e5f);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .btn-add {
        background: linear-gradient(90deg, #ff7e5f, #ff4b2b);
        color: #fff;
        font-weight: 500;
        border: none;
        transition: all 0.3s ease;
    }

    .btn-add:hover {
        opacity: 0.9;
        transform: translateY(-2px);
    }

    .custom-table {
        background-color: #fff;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
    }

    .custom-table thead {
        background: linear-gradient(90deg, #6a11cb, #2575fc);
        color: #fff;
    }

    .custom-table tbody tr:hover {
        background-color: #f1f5ff;
        transition: 0.3s;
    }

    .btn-edit {
        background-color: #4dabf7;
        color: #fff;
        border: none;
        transition: 0.3s;
    }

    .btn-edit:hover {
        background-color: #339af0;
    }

    .btn-delete {
        background-color: #ff6b6b;
        color: #fff;
        border: none;
        transition: 0.3s;
    }

    .btn-delete:hover {
        background-color: #fa5252;
    }
</style>

<div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Danh s√°ch s·∫£n ph·∫©m</h2>
    <a href="/products/new" class="btn btn-add">+ Th√™m s·∫£n ph·∫©m</a>
</div>

<div class="table-responsive">
    <table class="table custom-table table-hover align-middle">
        <thead>
            <tr>
                <th>#</th>
                <th>T√™n s·∫£n ph·∫©m</th>
                <th>Gi√°</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>Nh√† cung c·∫•p</th>
                <th class="text-center">Thao t√°c</th>
            </tr>
        </thead>
        <tbody>
            <% products.forEach((p, index) => { %>
                <tr>
                    <td><%= index + 1 %></td>
                    <td><%= p.name %></td>
                    <td><%= p.price.toLocaleString() %> ‚Ç´</td>
                    <td><%= p.quantity %></td>
                    <td><%= p.supplierId ? p.supplierId.name : 'N/A' %></td>
                    <td class="text-center">
                        <a href="/products/<%= p._id %>/edit" class="btn btn-edit btn-sm">‚úè S·ª≠a</a>
                        <form action="/products/<%= p._id %>?_method=DELETE" method="POST" class="d-inline">
                            <button type="submit" class="btn btn-delete btn-sm"
                                onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a?')">üóë X√≥a</button>
                        </form>
                    </td>
                </tr>
            <% }) %>
        </tbody>
    </table>
</div>

<%- include('../partials/footer') %>
